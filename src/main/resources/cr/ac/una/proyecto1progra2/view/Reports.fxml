<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="600.0" prefWidth="800.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="cr.ac.una.proyecto1progra2.controller.ReportsController">
    <VBox spacing="15.0"
          AnchorPane.topAnchor="20.0"
          AnchorPane.bottomAnchor="20.0"
          AnchorPane.leftAnchor="20.0"
          AnchorPane.rightAnchor="20.0">
        <Label style="-fx-font-size: 20px; -fx-font-weight: bold;"
               text="Reportes Estadísticos del Sistema" />
        <TabPane>

            <!-- TAB 1: Espacios más reservados -->
            <Tab text="Espacios más reservados">
                <AnchorPane>
                    <TableView fx:id="tablaEspacios"
                               layoutX="10.0" layoutY="10.0"
                               prefWidth="760.0">
                        <columns>
                            <TableColumn fx:id="colEspacio"
                                         prefWidth="400.0"
                                         text="Espacio" />
                            <TableColumn fx:id="colTotalEspacios"
                                         prefWidth="200.0"
                                         text="Total de Reservas" />
                        </columns>
                    </TableView>
                </AnchorPane>
            </Tab>

            <!-- TAB 2: Usuarios con más reservas -->
            <Tab text="Usuarios más activos">
                <AnchorPane>
                    <TableView fx:id="tablaUsuarios"
                               layoutX="10.0" layoutY="10.0"
                               prefWidth="760.0">
                        <columns>
                            <TableColumn fx:id="colUsuario"
                                         prefWidth="400.0"
                                         text="Usuario" />
                            <TableColumn fx:id="colTotalUsuarios"
                                         prefWidth="200.0"
                                         text="Total de Reservas" />
                        </columns>
                    </TableView>
                </AnchorPane>
            </Tab>

            <!-- TAB 3: Reservas por Mes -->
            <Tab text="Reservas por Mes">
                <AnchorPane>
                    <PieChart fx:id="chartReservasCoworking"
                              prefWidth="700"
                              prefHeight="400"
                              layoutX="50" layoutY="50"
                              title="Reservas por Mes" />
                </AnchorPane>
            </Tab>

            <!-- TAB 4: Horarios pico de uso -->
            <Tab text="Horarios pico de uso">
                <AnchorPane>
                    <BarChart fx:id="graficoHoras"
                              title="Reservas por Hora"
                              prefWidth="737.0" prefHeight="441.0"
                              layoutX="10.0" layoutY="10.0">
                        <xAxis>
                            <CategoryAxis fx:id="ejeX"
                                          label="Hora del día" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis fx:id="ejeY"
                                        label="Cantidad de reservas" />
                        </yAxis>
                    </BarChart>
                </AnchorPane>
            </Tab>

        </TabPane>
    </VBox>
</AnchorPane>
