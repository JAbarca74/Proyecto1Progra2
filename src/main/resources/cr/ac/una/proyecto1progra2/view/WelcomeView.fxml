<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane stylesheets="@welcome-alt.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="cr.ac.una.proyecto1progra2.controller.WelcomeViewController">

    <!-- ───────── ENCABEZADO ───────── -->
    <top>
        <HBox fx:id="headerPane" alignment="CENTER_LEFT" spacing="15" styleClass="header-pane">
            <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>

            <ImageView fx:id="imgAvatar" fitHeight="50" fitWidth="50" pickOnBounds="true" preserveRatio="true" styleClass="avatar" />

            <VBox spacing="5">
                <Label styleClass="header-title" text="¡Hola, Administrador!" />
                <Label styleClass="header-subtitle" text="Bienvenido de nuevo" />
            </VBox>
        </HBox>
    </top>

    <!-- ───────── CENTRO ───────── -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="25">

            <!-- Métricas -->
            <FlowPane alignment="TOP_CENTER" hgap="20" vgap="20">
                <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>

                <StackPane styleClass="card-alt">
                    <VBox alignment="CENTER" spacing="8">
                        <Label fx:id="lblReservasHoy" styleClass="metric-value-alt" text="0" />
                        <Label styleClass="metric-label-alt" text="Reservas Hoy" />
                    </VBox>
                </StackPane>

                <StackPane styleClass="card-alt">
                    <VBox alignment="CENTER" spacing="8">
                        <Label fx:id="lblEspacios" styleClass="metric-value-alt" text="0" />
                        <Label styleClass="metric-label-alt" text="Espacios Únicos" />
                    </VBox>
                </StackPane>

                <StackPane styleClass="card-alt">
                    <VBox alignment="CENTER" spacing="8">
                        <Label fx:id="lblUsuarios" styleClass="metric-value-alt" text="0" />
                        <Label styleClass="metric-label-alt" text="Usuarios" />
                    </VBox>
                </StackPane>

                <StackPane styleClass="card-alt">
                    <VBox alignment="CENTER" spacing="8">
                        <Label fx:id="lblOcupacion" styleClass="metric-value-alt" text="0 %" />
                        <Label styleClass="metric-label-alt" text="Ocupación" />
                    </VBox>
                </StackPane>
            </FlowPane>

            <!-- Clima + Noticias (NUEVO) -->
            <VBox fx:id="newsWeatherPane" alignment="TOP_CENTER" spacing="12" styleClass="news-weather-pane">

                <!-- Clima -->
                <HBox alignment="CENTER" spacing="6">
                    <ImageView fx:id="imgWeatherIcon" fitHeight="28" fitWidth="28" preserveRatio="true" />
                    <Label fx:id="lblWeather" styleClass="weather-label" text="Pérez Zeledón · 24 °C · Parcial nublado">
                  <graphic>
                     <ImageView fitHeight="21.0" fitWidth="53.0" pickOnBounds="true" preserveRatio="true">
                        <image>
                           <Image url="@../controller/Images/icons8-thermometer-down-80.png" />
                        </image>
                     </ImageView>
                  </graphic></Label>
                </HBox>

                <!-- Titulares (se añadió styleClass="news-list") -->
                <ListView fx:id="lstNews" focusTraversable="false" mouseTransparent="true" prefHeight="120" styleClass="news-list" />
            </VBox>

        </VBox>
    </center>

    <!-- ───────── PIE ───────── -->
    <bottom>
        <HBox fx:id="footerPane" alignment="CENTER_RIGHT">
            <padding><Insets bottom="10" left="20" right="20" top="10" /></padding>
            <Label fx:id="lblLastUpdate" styleClass="last-update-alt" text="–" wrapText="true" />
        </HBox>
    </bottom>

</BorderPane>
